<%- include('./partials/header') -%>
<style>
  .main-container{
    font-family: "Nunito Sans", sans-serif;
    background-color: rgb(239, 238, 238);
  }
  #sub{
	background-color:  #35013F
}
#sub:hover{
	background-color: rgb(255, 255, 255);
	/* color:   #35013S */
	color: #35013F;
	border: 1.5px solid #35013F;
}
#stud_login{
  color:#ffffff;
}
#stud_login:hover{
  color:#6C757D;
  background-color: #ffffff;
}
#html_element{
  text-align: center;
}
.dib {
  display: inline-block;
}
</style>
<div class="main-container vh-100">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card" style="border-radius: 1rem">
          <div class="card-body p-5 text-center">
            <div class="mb-4" style="font-size: xx-large;color:#11467b"> Login</div>

            <form action="/login" method="POST" id="teacher_login">
              <div class="mb-4">
                  <select class="form-control" style="width: 100%;" name="role" id="role">
                    <option selected value="">Select Role</option>
                    <option value="0">Coordinator</option>
                    <option value="1">Authority</option>
                    <option value="2">Admin</option>
                  </select>
              </div>
              <div class="form-outline mb-4">
                <input
                  type="text"
                  name="username"
                  id="username"
                  placeholder="Username"
                  class="form-control form-control-lg"
                />
              </div>

              <div class="form-outline mb-4">
                <input
                  type="password"
                  name="password"
                  id="password"
                  placeholder="Password"
                  class="form-control form-control-lg"
                />
              </div>
            
              <div id="html_element" class="mb-4">
                
              </div>
              
              <button class="btn btn-primary btn-lg btn-block" id="sub" value="abc" type="button">
              Login
              </button>
              <!-- <button class="btn btn-secondary btn-lg " id="stud_login" type="button">
              Student Login
              </button> -->
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script
  src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
  async
  defer
></script>
<script type="text/javascript">
  var onloadCallback = function () {
    grecaptcha.render("html_element", {
      sitekey: "6Ld2GmwoAAAAAPOzh30PbgjdiROXUs4hLgEjcy7c",
    });
    document.querySelector("#html_element > div").classList.add("dib");
    console.log(document.querySelector("#html_element > div"));
  };
</script>
<%- include('./partials/footer') -%>
<script>
  $(document).ready(function () {
    $("#sub").click(function (e) {
      if($("#role").val() == "")
      {
        e.preventDefault();
        alert("Please select role");
      }
      else{
        let captcha = grecaptcha.getResponse();
        if (captcha.length == 0) {
         alert("captcha invalid");
        } else {
          $("#teacher_login").submit();
        }
      }
    });
  });
</script>
